{"version":3,"sources":["assets/close-icon-small.png","app/components/FileUpload.js","app/Forms/RegisterForm.js","app/containers/UserRegister.js"],"names":["module","exports","FileUpload","props","state","hide","fileUploadChange","bind","e","previewid","fileApi","files","target","filename","name","reader","FileReader","readerBase64","readAsArrayBuffer","readAsDataURL","this","setState","onloadend","base64","result","document","getElementById","src","onload","fileobject","image_data","file_name","split","join","Date","now","fileupload","then","response","data","fid","value","onChange","targetField","alert","JSON","stringify","onSubmit","onFormSubmit","className","alt","id","CloseIcon","multiple","type","prevProps","image","console","log","Component","RegisterForm","validator","FormValidator","RegisterFormValidate","first_name","last_name","user_name","email","password","user_picture","city","validation","valid","handleInputChange","handleSubmit","handleInputFileChange","event","formv","field","preventDefault","validate","submitted","querySelector","isValid","userRegister","uid","autoComplete","htmlFor","placeholder","message","maxLength","form","map","item","index","key","withRouter","UserRegister","React"],"mappings":"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","file":"static/js/20.3ec87c12.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzhGMjZCQzJGNjI5MTFFNjhEOThCMDU2QTI0RUU5NjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzhGMjZCQzNGNjI5MTFFNjhEOThCMDU2QTI0RUU5NjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOEYyNkJDMEY2MjkxMUU2OEQ5OEIwNTZBMjRFRTk2MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOEYyNkJDMUY2MjkxMUU2OEQ5OEIwNTZBMjRFRTk2MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po8nCv0AAACLSURBVHjaYvz//38KAwODFhAXMWAHfUB8jQGocPl/CGgCYgY03ASVWw7isAHxFqhACZKiUqjYVpAamCAXEO8D4n9AnAHF/6BiIDkGZGt4gfgEEP+FKjoBFQPLMyE5mhGJ/R9DDIvV6bisxuWZEnTPwIKnEV/wsABt3wvEz4G4Hktg1wExDyjAAQIMAKOK+M3/IhZ/AAAAAElFTkSuQmCC\"","import React, { Component } from \"react\";\nimport { fileupload } from \"../Networks\";\nimport CloseIcon from \"../../assets/close-icon-small.png\";\n\nexport default class FileUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hide: true\n    };\n\n    this.fileUploadChange = this.fileUploadChange.bind(this);\n  }\n\n  fileUploadChange(e, previewid, fileApi) {\n    let files = e.target.files;\n    let filename = files[0].name;\n\n    let reader = new FileReader();\n    var readerBase64 = new FileReader();\n\n    reader.readAsArrayBuffer(files[0]);\n\n    readerBase64.readAsDataURL(files[0]);\n    this.setState({\n      hide: false\n    });\n    readerBase64.onloadend = function(e) {\n      var base64 = e.target.result;\n      document.getElementById(\"preview_\" + previewid).src = base64;\n    };\n\n    reader.onload = e => {\n      var strImage = e.target.result;\n\n      let fileobject = {\n        image_data: strImage,\n        file_name: filename.split(\".\").join(\"-\" + Date.now() + \".\")\n      };\n      fileupload(fileobject, fileApi).then(response => {\n        if (response.data.fid[0].value) {\n          this.props.onChange(\n            this.props.targetField,\n            response.data.fid[0].value\n          );\n        } else {\n          alert(JSON.stringify(response.data));\n        }\n      });\n    };\n  }\n\n  render() {\n    return (\n      <div onSubmit={this.onFormSubmit}>\n        <div className={this.state.hide ? \"ahide\" : \"\"}>\n          <img\n            className=\"upload_preview\"\n            src=\"\"\n            alt=\"preview\"\n            id={`preview_${this.props.targetField}`}\n          />\n          <img className=\"icon-class\" src={CloseIcon} alt=\"icon\" />\n        </div>\n        <div className=\"clearfix\"></div>\n        <input\n          multiple\n          className=\"file\"\n          type=\"file\"\n          name=\"file\"\n          onChange={e =>\n            this.fileUploadChange(e, this.props.targetField, this.props.fileApi)\n          }\n        />\n      </div>\n    );\n  }\n\n  // componentDidMount() {\n  //   let { avatar, targetField } = this.props;\n  //   console.log(targetField);\n  //   console.log(avatar);\n  //   if (avatar !== \"\") {\n  //     document.getElementById(\"preview_\" + targetField).src = avatar;\n  //   }\n  // }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.image !== prevProps.image) {\n      let { image, targetField } = this.props;\n      console.log(targetField);\n      console.log(image);\n      if (image !== \"\") {\n        document.getElementById(\"preview_\" + targetField).src = image;\n        this.setState({\n          hide: false\n        });\n      }\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { userRegister } from \"../Networks\";\nimport FileUpload from \"../components/FileUpload\";\nimport { withRouter } from \"react-router-dom\";\nimport FormValidator from \"../FormValidator\";\nimport { city, RegisterFormValidate } from \"../const\";\n\nclass RegisterForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validator = new FormValidator(RegisterFormValidate);\n\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      user_name: \"\",\n      email: \"\",\n      password: \"\",\n      user_picture: \"\",\n      city: \"\",\n      validation: this.validator.valid()\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputFileChange = this.handleInputFileChange.bind(this);\n  }\n\n  handleInputChange(event) {\n    const { name, value } = event.target;\n    let formv = {\n      [name]: value\n    };\n    this.setState(formv);\n  }\n\n  handleInputFileChange(field, value) {\n    this.setState({ [field]: value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    //console.log(this.state);\n\n    const validation = this.validator.validate(this.state);\n    this.setState({ validation });\n    this.submitted = true;\n\n    const file = document.querySelector(\".file\");\n    file.value = \"\";\n\n    if (validation.isValid) {\n      userRegister(this.state).then(response => {\n        console.log(response.data.uid);\n        if (response.data.uid > 1) {\n          //this.props.history.push(`/user/${response.data.uid}`);\n        }\n      });\n    }\n\n    return false;\n  }\n  render() {\n    const fileApi = \"/api/v1/file/upload/user/user/user_picture\";\n\n    let validation = this.submitted\n      ? this.validator.validate(this.state)\n      : this.state.validation;\n\n    return (\n      <div className=\"form-popup\">\n        <div className=\"form-popup-headline secondary\">\n          <h2>Register Account</h2>\n          <p>Register now and start making money from home!</p>\n        </div>\n        <div className=\"form-popup-content\">\n          <form\n            id=\"register-form4\"\n            onSubmit={this.handleSubmit}\n            autoComplete=\"off\"\n          >\n            <div className=\"input-container\">\n              <label htmlFor=\"userpciture\" className=\"rl-label required\">\n                Profile Image\n              </label>\n              <FileUpload\n                onChange={this.handleInputFileChange}\n                targetField=\"user_picture\"\n                fileApi={fileApi}\n              ></FileUpload>\n              <input\n                className=\"hide\"\n                name=\"user_picture\"\n                id=\"pic1\"\n                type=\"hidden\"\n                placeholder=\"Enter them item name here...\"\n                value={this.state.user_picture}\n                onChange={this.handleInputChange}\n              ></input>\n              <span className=\"form-error\">\n                {validation.user_picture.message}\n              </span>\n            </div>\n            <div className=\"input-container\">\n              <label htmlFor=\"first_name\" className=\"rl-label required\">\n                First Name\n              </label>\n              <input\n                name=\"first_name\"\n                type=\"text\"\n                placeholder=\"Enter them first name here...\"\n                value={this.state.first_name}\n                onChange={this.handleInputChange}\n                maxLength=\"150\"\n              ></input>\n              <span className=\"form-error\">\n                {validation.first_name.message}\n              </span>\n            </div>\n            <div className=\"input-container\">\n              <label htmlFor=\"last_name\" className=\"rl-label required\">\n                Last Name\n              </label>\n              <input\n                name=\"last_name\"\n                type=\"text\"\n                placeholder=\"Enter them first name here...\"\n                value={this.state.last_name}\n                onChange={this.handleInputChange}\n                maxLength=\"150\"\n              ></input>\n              <span className=\"form-error\">{validation.last_name.message}</span>\n            </div>\n            <div className=\"input-container\">\n              <label htmlFor=\"city\" className=\"rl-label required\">\n                City\n              </label>\n              <select\n                name=\"city\"\n                form=\"carform\"\n                value={this.state.city}\n                onChange={this.handleInputChange}\n              >\n                <option />\n                {city.map((item, index) => {\n                  return (\n                    <option value={item} key={index}>\n                      {item}\n                    </option>\n                  );\n                })}\n              </select>\n              <span className=\"form-error\">{validation.city.message}</span>\n            </div>\n            <div className=\"input-container\">\n              <label htmlFor=\"user_name\" className=\"rl-label required\">\n                Account Name\n              </label>\n              <input\n                name=\"user_name\"\n                type=\"text\"\n                placeholder=\"Enter them user name here...\"\n                value={this.state.user_name}\n                onChange={this.handleInputChange}\n                maxLength=\"150\"\n              ></input>\n              <span className=\"form-error\">{validation.user_name.message}</span>\n            </div>\n            <div className=\"input-container\">\n              <label htmlFor=\"email\" className=\"rl-label required\">\n                Email\n              </label>\n              <input\n                name=\"email\"\n                type=\"text\"\n                placeholder=\"Enter them email here...\"\n                value={this.state.email}\n                onChange={this.handleInputChange}\n                maxLength=\"150\"\n              ></input>\n              <span className=\"form-error\">{validation.email.message}</span>\n            </div>\n            <div className=\"input-container\">\n              <label htmlFor=\"password\" className=\"rl-label required\">\n                Password\n              </label>\n              <input\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"Enter them password name here...\"\n                value={this.state.password}\n                onChange={this.handleInputChange}\n                maxLength=\"150\"\n              ></input>\n              <span className=\"form-error\">{validation.password.message}</span>\n            </div>\n\n            <button className=\"button mid dark\">\n              Register <span className=\"primary\">Now!</span>\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(RegisterForm);\n","import React from \"react\";\nimport RegisterForm from \"../Forms/RegisterForm\";\n\nclass UserRegister extends React.Component {\n  render() {\n    return (\n      <div className=\"section-wrap\">\n        <div className=\"section\">\n          <RegisterForm />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserRegister;\n"],"sourceRoot":""}